Library Binary File Format Notes

Data Sections are notated by varible length binary sequences

XX YY AA BB CC etc

where

XX is the length of the data including this byte to the last data byte
YY is the data type code
AA onwards are up to 253 data bytes


Data Type Codes

00-ACTIVITY

	2-Byte Pairs

		XX YY

		Where 
			XX is the pin number
			YY is the state 
				00=X 
				01=L 
				02=H 
				03=A 
				05=FREQUENCY @ 1%
				06=FREQUENCY @ 2%
				07=FREQUENCY @ 3%
				08=FREQUENCY @ 4%
				09=FREQUENCY @ 5%
				0A=FREQUENCY @ 6%
				0B=FREQUENCY @ 7%
				0C=FREQUENCY @ 8%
				0D=FREQUENCY @ 9%
				0E=FREQUENCY @ 10%

			When 05:FREQUENCY - Byte is followed by 
		
				TEXT    FLOAT EQV.										COMPILED BIN.   BIASED EXPONENT       UNNORMALIZED MANTISSA    
				0.005Hz	1.01000111101011100001010001111010111000*2^-8	FFF951EB851EB8  1111 1111 1111 1001   0101 0001 1110 1011 1000 0101 0001 1110 1011 1000
				0.0051Hz1.01001110001110111100110100101101101000*2^-8	FFF9538EF34D68  1111 1111 1111 1001   0101 0011 1000 1110 1111 0011 0100 1011 0110 1000
				0.006Hz	1.10001001001101110100101111000110101000*2*^-8	FFF9624DD2F1A8  1111 1111 1111 1001   0110 0010 0100 1101 1101 0010 1111 0001 1010 1000
				0.007Hz	1.110010101100001100010010011001*2^-8			FFF972B0C499    1111 1111 1111 1001   0111 0010 1011 0000 1100 0100 1001 1001 
				0.008Hz	1.00000110001001001101110100101111000110*2^-7	FFFA4189374BC6  1111 1111 1111 1010   0100 0001 1000 1001 0011 0111 0100 1011 1100 0110
				0.009Hz	1.001001101110100101111*2^-7					FFFA49BA5E353F  1111 1111 1111 1010   0100 1001 1011 1010 0101 1110 0011 0101 0011 1111
				1.000Hz	1.0*2^0											00014000000000	0000 0000 0000 0001   0100 0000 0000 0000 0000 0000 0000 0000 0000 0000
				2.000Hz	1.0*2^1											00024000000000	0000 0000 0000 0010   0100 0000 0000 0000 0000 0000 0000 0000 0000 0000
				3.000Hz	1.1*2^1											00026000000000	0000 0000 0000 0010   0110 0000 0000 0000 0000 0000 0000 0000 0000 0000
				4.000Hz	1.0*2^2											00034000000000	0000 0000 0000 0011   0100 0000 0000 0000 0000 0000 0000 0000 0000 0000
				0.01kHz	1.01*2^3										00045000000000	0000 0000 0000 0100   0101 0000 0000 0000 0000 0000 0000 0000 0000 0000
				0.10kHz	1.1001*2^6										000763ffffffff	0000 0000 0000 0111   0110 0011 ffff ffff ffff ffff ffff ffff ffff ffff
				1.00kHz	1.111101*2^9									000a7d00000000	0000 0000 0000 1010   0111 1101 0000 0000 0000 0000 0000 0000 0000 0000
				2.00kHz	1.111101*2^10									000b7d00000000	0000 0000 0000 1011   0111 1101 0000 0000 0000 0000 0000 0000 0000 0000
				10.0kHz	1.001110001*2^13								000e4e000000	0000 0000 0000 1110   0100 1110 0000 0000 0000 0000 0000 0000
				0.10MHz 1.10000110101*2^16								001161a7ffffff	0000 0000 0001 0001   0110 0001 1010 0111 1111 1111 1111 1111 1111 1111
				1.00MHz 1.1110100001001*2^19							00147a12000000	0000 0000 0001 0100   0111 1010 0001 0010 0000 0000 0000 0000 0000 0000 
				10.0MHz	1.0011000100101101*2^23							00184c4b400000	0000 0000 0001 1000   0100 1100 0100 1011 0100 0000 0000 0000 0000 0000
				20.0MHz	1.0011000100101101*2^24							00194c4b400000  0000 0000 0001 1001   0100 1100 0100 1011 0100 0000 0000 0000 0000 0000
				25.0MHz	1.011111010111100001*2^24						00195f5e100000	0000 0000 0001 1001   0101 1111 0101 1110 0001 0000 0000 0000 0000 0000


01-FAMILY
02-IGNORE
03-DISPLAY
04-END
05-COMPARE
06-(NOTEXT)END_DEVICE_LIBRARY
07-F_MASK
08-GATE
09-GLOBAL
0A-LOAD
0B-RDTEST *BINARY* (SEE RDTEST BELOW)
0C-LOC_FILE
0D-NAME
0E-RESET
0F-RD_DRV
10-SIZE
11-S_TIME
12-TEST
13-THRSLD
14-TRIGGER
15-T_TIME
16-W_TIME
17-FUNCTION
18-END_FUNCTION
19-JUMP
1A-IF

1B-(NOTEXT)END_LIBRARY 

This marks the end of the complete library, binary (sim,shadow) data may exist after this marker however. There is
no equivalent in TEXT .LIB files as it only exists in the various binary files.

Individual compiled .lib files will have this in the last entry of the file. Binary ROM Library images will have this as well.
The .LI! files for the LIBLOAD program, does not have this marker. 

1C-C_SUM
1D-RDT_ENABLE
1E-SOUND
1F-DO_TEST
20-
21-CLIP_CHK
22-
23-COMMENT
24-SYNC_COND
25-SYNC_VECT
26-SYNC_PAT
27-SYNC_GATE
28-SYNC_RND
29-SYNC_GR_END
2A-SYNC_IGNORE
2B-SYNC_PINS
2C-SYNC_RESET_OFF
2D-GATE_DELAY
2E-SIM_DATA

	Contains a 16-bit Length at Start

2F-SHADOW_DATA

	Contains a 16-bit Length at Start

30-SHADOW
31-RDSIM
32-FLOAT_TST
33-LEVEL_CHK



01 02 - RDTEST

This is a messy command structure. It is tightly integrated with the RDTEST *BINARY* command (0x0B) above. 

In general, this command show up in binary as 0x03,0x01,0x02 which is an entry of length 3, and 
having two bytes of 01,02.


